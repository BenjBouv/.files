#!/bin/sh -x
# street cred to padenot

# Connect to an existing gvim instance, or run a gvim if none is available

list=$(vim --serverlist)

if [ -z "$SSH_CONNECTION" ]
then
    prog="gvim"
else
    prog="vim"
fi

if [ -z "$list" ]
then
  $prog $*
else
  $prog --remote-tab-silent $*
fi
