#!/bin/sh -x
# street cred to padenot

# Connect to an existing gvim instance, or run a gvim if none is available

list=$(vim --serverlist)

if [ -e /usr/bin/nvim ]
then
    prog="nvim"
else
    prog="vim"
fi

if [ -z "$list" ]
then
  $prog $*
else
  $prog --remote-tab-silent $*
fi
